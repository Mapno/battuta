{"version":3,"sources":["components/maps/Localize.js","components/auth/AuthService.js","components/navbar/Navbar.js","components/auth/CarrierForm.js","components/auth/Signup.js","components/auth/Login.js","components/search/LocationSearchInput.js","components/search/DateInput.js","components/routes/RouteService.js","components/routes/RouteCard.js","components/search/UserSelect.js","components/routes/NewShipment.js","components/routes/SearchedRoutes.js","components/contents/HomePage.js","components/routes/MapContainer.js","components/routes/CreateRoute.js","components/profile/StatusCard.js","components/profile/PackageCard.js","components/profile/MyPackages.js","components/profile/MyProfile.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Promise","resolve","reject","geo","window","navigator","geolocation","getCurrentPosition","pos","center","lat","coords","latitude","lng","longitude","AuthService","_this","this","Object","classCallCheck","signup","username","password","email","service","post","then","res","data","signupCarrier","brand","model","color","registration","carrier","login","loggedin","get","logout","find","user","axios","create","baseURL","concat","process","withCredentials","Navbar","props","possibleConstructorReturn","getPrototypeOf","call","handleLogout","e","hasCarrierRole","role","includes","state","loggedInUser","nextProps","setState","objectSpread","createLink","react_default","a","createElement","className","Link","to","alt","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","onClick","Component","CarrierForm","handleChange","event","_this2","Grid_default","container","alignItems","justify","direction","FormControl_default","InputLabel_default","shrink","Input_default","name","value","onChange","maxLength","Signup","handleFormSubmit","preventDefault","_this$state","getUser","catch","error","console","log","target","checked","defineProperty","carrierForm","auth_CarrierForm","style","paddingTop","Card_default","backgroundColor","width","marginBottom","marginTop","Checkbox_default","Button_default","variant","Login","response","_event$target","height","required","LocationSearchInput","address","handleSelect","geocodeByAddress","results","getLatLng","latLng","departure","resetClick","_","isEqual","place","dist_default","onSelect","_ref","getInputProps","suggestions","getSuggestionItemProps","loading","assign","placeholder","map","suggestion","active","cursor","description","DateInput","date","startDate","handleDate","moment","bind","assertThisInitialized","es","selected","minDate","showTimeSelect","timeFormat","timeIntervals","dateFormat","timeCaption","React","RouteService","arrival","space","price","search","show","shipping","owner","receiver","size","weight","route","accept","put","RouteCard","_this$props$route","aviableSpace","driver","departureTime","split","splice","join","sort","time","align","Paper_default","Table_default","TableHead_default","TableRow_default","TableCell_default","TableBody_default","handleBook","UserSelect","selectedUser","handleReceiverSelect","react_select_esm","options","users","onInputChange","findUsers","NewShipment","inputValue","authService","length","getOwnPropertyDescriptor","usersArray","handleSubmit","_this$props","selectedRoute","routeService","redirect","Redirect","htmlFor","search_UserSelect","SearchedRoutes","routes_NewShipment","routes_RouteCard","key","_id","HomePage","_d","render","routes_SearchedRoutes","search_LocationSearchInput","DateInput_DateInput","MapContainer","componentDidMount","localize","google","maps","Map","document","getElementById","zoom","directionsService","DirectionsService","directionsDisplay","DirectionsRenderer","onMarker","_this$props$departure","Marker","position","title","addres","setCenter","setMap","componentDidUpdate","onRoute","request","origin","destination","travelMode","status","setDirections","CreateRoute","_React$Component","forwardClick","backwardClick","inherits","createClass","marginLeft","marginRight","spacing","item","lg","handlePrice","currentTarget","handleSpace","disabled","MapContainer_MapContainer","zIndex","paddingRight","StatusCard","keyVariable","handleAccept","handleReject","Chip_default","label","icon","Done_default","LocalShipping_default","Clear_default","PackageCard","findPackages","packages","keys","data-field","textAlign","shipment","profile_StatusCard","MyPackages","refresh","asOwner","asReceiver","asShipper","profile_PackageCard","MyProfile","vehicle","roles","forEach","i","charAt","toUpperCase","slice","registrationNumber","margin","App","getTheUser","userObj","err","_this3","fetchUser","navbar_Navbar","userInSession","Route","exact","path","contents_HomePage","CreateRoute_CreateRoute","profile_MyPackages","profile_MyProfile","auth_Signup","auth_Login","Boolean","location","hostname","match","theme","createMuiTheme","palette","primary","main","secondary","ReactDOM","styles","BrowserRouter","src_App_0","serviceWorker","ready","unregister"],"mappings":"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","file":"static/js/main.886223d9.chunk.js","sourcesContent":["const geolocalize = () => {\n    return new Promise((resolve, reject) => {\n        const geo = window.navigator.geolocation;\n        if (!geo) reject('No geolocation available');\n        geo.getCurrentPosition((pos) => {\n            const center = {\n                lat: pos.coords.latitude,\n                lng: pos.coords.longitude\n            };\n            resolve(center);\n        }, reject);\n    });\n\n};\n\nmodule.exports = geolocalize;","import axios from 'axios';\n\nclass AuthService {\n  constructor() {\n    this.service = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}/auth`,\n      withCredentials: true\n    });\n  };\n\n  signup = (username, password, email) => {\n    return this.service.post('/signup', { username, password, email })\n      .then(res => res.data)\n  };\n\n  signupCarrier = (username, password, email, brand, model, color, registration, carrier) => {\n    return this.service.post('/signup', { username, password, email, brand, model, color, registration, carrier })\n      .then(res => res.data)\n  };\n\n  login = (username, password) => {\n    return this.service.post('/login', { username, password })\n      .then(res => res.data)\n  };\n\n  loggedin = () => {\n    return this.service.get('/currentuser')\n      .then(res => res.data)\n  };\n\n  logout = () => {\n    return this.service.get('/logout')\n      .then(res => res.data)\n  };\n\n  find = (user) => {\n    return this.service.post('/find', { username: user })\n      .then(res => res.data)\n  }\n};\n\nexport default AuthService;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport AuthService from '../auth/AuthService';\n\nclass Navbar extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { loggedInUser: null };\n        this.service = new AuthService();\n    }\n\n    componentWillReceiveProps(nextProps) {\n        this.setState({ ...this.state, loggedInUser: nextProps[\"userInSession\"] })\n    }\n\n    handleLogout = (e) => {\n        this.props.logout()\n    }\n\n    hasCarrierRole = (user) => {\n        return user ? user.role.includes('carrier') : null\n    }\n\n    render() {\n        const user = this.state.loggedInUser\n        let createLink;\n        if (this.hasCarrierRole(user)) createLink = <li className=\"nav-item active\"><Link to=\"/maps\" className=\"nav-link\">New route</Link></li>\n        if (user) {\n            return (\n                <nav className=\"navbar bg-dark navbar-expand-lg navbar-dark\">\n                    <div className=\"navbar-nav\">\n                        <span className=\"nav-item active title\"><Link to=\"/\" alt=\"\" className=\"nav-link\">Battuta</Link></span>\n                    </div>\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\"\n                        aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                        <span className=\"navbar-toggler-icon\"></span>\n                    </button>\n                    <div className=\"collapse navbar-collapse d-flex justify-content-between\" id=\"navbarNav\">\n                        <ul className=\"navbar-nav\">\n                            <li className=\"nav-item active\"><Link to=\"/my-packages\" className=\"nav-link\">My packages</Link></li>\n                            {createLink}\n                        </ul>\n                        <ul className=\"navbar-nav\">\n                            <li className=\"nav-item active\"><Link to=\"/profile\" className=\"nav-link\">My profile</Link></li>\n                            <li className=\"nav-item active\"><Link to=\"/\" onClick={this.handleLogout} className=\"nav-link\">Logout</Link></li>\n                        </ul>\n                    </div>\n                </nav>\n            )\n        } else {\n            return (\n                <nav className=\"navbar bg-dark navbar-expand-lg navbar-dark\">\n                    <div className=\"navbar-nav\">\n                        <span className=\"nav-item active title\"><Link to=\"/\" alt=\"\" className=\"nav-link\">Battuta</Link></span>\n                    </div>\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\"\n                        aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                        <span className=\"navbar-toggler-icon\"></span>\n                    </button>\n                    <div className=\"collapse navbar-collapse d-flex justify-content-end\" id=\"navbarNav\">\n                        <ul className=\"navbar-nav\">\n                            <li className=\"nav-item active\"><Link to='/signup' className=\"nav-link\">Signup</Link></li>\n                            <li className=\"nav-item active\"><Link to='/login' className=\"nav-link\">Login</Link></li>\n                        </ul>\n                    </div>\n                </nav>\n            )\n        }\n    }\n}\n\nexport default Navbar;","import React, { Component } from 'react';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Grid from '@material-ui/core/Grid';\n\nclass CarrierForm extends Component {\n\n    handleChange = (event) => {\n        this.props.handleChange(event);\n    }\n\n    render() {\n        return (\n            <Grid\n            container\n            alignItems=\"center\"\n            justify=\"center\"\n            direction=\"column\"\n            >\n                <h4>Your vehicle</h4>\n                <FormControl className=\"d-flex flex-row my-3 justify-content-around\">\n                    <InputLabel className=\"signup-label\" shrink>Brand:</InputLabel>\n                    <Input type=\"text\" name=\"brand\" value={this.props.brand} onChange={e => this.handleChange(e)}></Input>\n                </FormControl>\n                <FormControl className=\"d-flex flex-row my-3 justify-content-around\">\n                    <InputLabel className=\"signup-label\" shrink>Model:</InputLabel>\n                    <Input type=\"text\" name=\"model\" value={this.props.model} onChange={e => this.handleChange(e)}></Input>\n                </FormControl>\n                <FormControl className=\"d-flex flex-row my-3 justify-content-around\">\n                    <InputLabel className=\"signup-label\" shrink>Color:</InputLabel>\n                    <Input type=\"text\" name=\"color\" value={this.props.color} onChange={e => this.handleChange(e)}></Input>\n                </FormControl>\n                <FormControl className=\"d-flex flex-row my-3 justify-content-around\">\n                    <InputLabel className=\"signup-label\" shrink>Registration Number:</InputLabel>\n                    <Input type=\"text\" name=\"registration\" value={this.props.registration} onChange={e => this.handleChange(e)} maxLength=\"7\"></Input>\n                </FormControl>\n            </Grid>\n        );\n    };\n};\n\nexport default CarrierForm;","import React, { Component } from 'react';\nimport AuthService from './AuthService';\nimport CarrierForm from './CarrierForm';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Card from '@material-ui/core/Card';\n\nclass Signup extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { username: '', password: '', email: '', carrier: false, brand: '', model: '', color: '', registration: '' };\n        this.service = new AuthService();\n    }\n\n    handleFormSubmit = (event) => {\n        event.preventDefault();\n        const { username, password, email, carrier, brand, model, color, registration } = this.state;\n\n        if (!carrier) {\n            this.service.signup(username, password, email)\n                .then(res => {\n                    this.setState({\n                        username: \"\",\n                        password: \"\",\n                        email: \"\"\n                    });\n                    this.props.getUser(res.user)\n                })\n                .catch(error => console.log(error))\n        } else {\n            this.service.signupCarrier(username, password, email, brand, model, color, registration, carrier)\n                .then(res => {\n                    this.setState({\n                        username: \"\",\n                        password: \"\",\n                        email: \"\",\n                        brand: \"\",\n                        model: \"\",\n                        color: \"\",\n                        registration: \"\"\n                    });\n                    this.props.getUser(res.user)\n                })\n                .catch(error => console.log(error))\n        }\n    }\n\n    handleChange = (event) => {\n        const { target } = event\n        const { name } = event.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        this.setState({ [name]: value });\n    }\n\n\n    render() {\n        let carrierForm;\n        if (this.state.carrier) carrierForm = <CarrierForm handleChange={this.handleChange} brand={this.state.brand} model={this.state.model} color={this.state.color} registration={this.state.registration}></CarrierForm>\n        return (\n            <div className=\"auth\">\n                <Grid container alignItems=\"center\" justify=\"center\" direction=\"row\" style={{ paddingTop: \"2vh\"}} >\n                    <Card style={{ backgroundColor: \"#ffffffbf\", width: \"28vw\" }}>\n                        <Grid container alignItems=\"center\" justify=\"center\" direction=\"column\" >\n                            <h3 style={{ marginBottom: \"3vh\", marginTop: \"3vh\" }}>Welcome!, create your account next:</h3>\n                            <FormControl style={{ marginBottom: \"2vh\" }}>\n                                <InputLabel>Username:</InputLabel>\n                                <Input type=\"text\" name=\"username\" value={this.state.username} onChange={e => this.handleChange(e)} />\n                            </FormControl>\n                            <FormControl style={{ marginBottom: \"2vh\" }}>\n                                <InputLabel>Password:</InputLabel>\n                                <Input type=\"password\" name=\"password\" value={this.state.password} onChange={e => this.handleChange(e)} />\n                            </FormControl>\n                            <FormControl style={{ marginBottom: \"2vh\" }}>\n                                <InputLabel>Email:</InputLabel>\n                                <Input type=\"email\" name=\"email\" value={this.state.email} onChange={e => this.handleChange(e)} />\n                            </FormControl>\n                            <FormControl style={{ marginBottom: \"2vh\" }}>\n                                <span >Become a Carrier:</span>\n                                <Checkbox color=\"primary\" id=\"become-button\" name=\"carrier\" onChange={e => this.handleChange(e)} />\n                            </FormControl>\n                        </Grid>\n                        {carrierForm}\n                        <Grid container alignItems=\"center\" justify=\"center\" direction=\"column\" style={{marginBottom: \"2vh\"}}>\n                            <Button variant=\"contained\" color=\"primary\" value=\"Sign up\" onClick={this.handleFormSubmit} >Sign up</Button>\n                        </Grid>\n                    </Card>\n                </Grid>\n            </div>\n        )\n    }\n}\n\nexport default Signup;","import React, { Component } from 'react';\nimport AuthService from './AuthService';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\n\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { username: '', password: '' };\n    this.service = new AuthService();\n  }\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const username = this.state.username;\n    const password = this.state.password;\n\n    this.service.login(username, password)\n      .then(response => {\n        this.setState({\n          username: username,\n          password: password,\n          error: false\n        });\n\n        this.props.getUser(response)\n      })\n      .catch(error => {\n        this.setState({\n          username: username,\n          password: password,\n          error: true\n        });\n      });\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n\n    return (\n      <div className=\"auth\">\n        <Grid container alignItems=\"center\" justify=\"center\" direction=\"column\" style={{ height: \"60vh\" }}>\n          <Card style={{ backgroundColor: \"#ffffffbf\", width: \"22vw\" }} >\n            <Grid container alignItems=\"center\" justify=\"center\" direction=\"column\">\n              <h3 style={{ marginBottom: \"3vh\", marginTop: \"3vh\" }}>Wellcome back!</h3>\n              <FormControl style={{ marginBottom: \"2vh\" }}>\n                <InputLabel>Username:</InputLabel>\n                <Input type=\"text\" name=\"username\" value={this.state.username} onChange={e => this.handleChange(e)} required />\n              </FormControl>\n              <FormControl style={{ marginBottom: \"2vh\" }}>\n                <InputLabel>Password:</InputLabel>\n                <Input type=\"password\" name=\"password\" value={this.state.password} onChange={e => this.handleChange(e)} required />\n              </FormControl>\n              <Button type=\"submit\" value=\"Login\" onClick={this.handleFormSubmit} variant=\"contained\" color=\"primary\">Log in</Button>\n              <h1>{this.state.error ? 'Error' : ''}</h1>\n            </Grid>\n          </Card>\n        </Grid>\n      </div>\n    )\n  }\n}\n\nexport default Login;","import React, { Component } from 'react';\nimport PlacesAutocomplete, { geocodeByAddress, getLatLng } from 'react-places-autocomplete';\nimport _ from 'lodash';\n\nclass LocationSearchInput extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { address: '' };\n    }\n\n    componentWillMount() {\n        if (!_.isEqual(this.props.place, {}))\n            this.setState({ address: this.props.place.address });\n    }\n\n    handleChange = address => {\n        this.setState({ address });\n    };\n\n    handleSelect = address => {\n        this.setState({ address: address })\n        geocodeByAddress(address)\n            .then(results => getLatLng(results[0]))\n            .then(latLng => {\n                this.props.handleSelect(latLng, this.props.departure, this.state.address);\n            })\n            .catch(error => console.error('Error', error));\n    };\n\n    resetClick = () => {\n        this.setState({ address: '' })\n        this.props.resetClick(this.props.departure)\n    }\n\n\n    render() {\n        return (\n            <PlacesAutocomplete value={this.state.address} onChange={this.handleChange} onSelect={this.handleSelect}>\n                {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\n                    <div className=\"search-bar-container\">\n                        <div className=\"search-input-container\">\n                            <form>\n                                <input\n                                    {...getInputProps({ placeholder: 'Search Places ...', className: 'location-search-input', })}\n                                    className=\"search-input\"\n                                    required\n                                />\n                                <button className=\"clear-button\" onClick={() => this.resetClick()}>x</button>\n                            </form>\n                        </div>\n                        <div className=\"autocomplete-dropdown-container\">\n                            {loading && <div>Loading...</div>}\n                            {suggestions.map(suggestion => {\n                                const className = suggestion.active\n                                    ? 'suggestion-item--active'\n                                    : 'suggestion-item';\n                                const style = suggestion.active\n                                    ? { backgroundColor: '#fafafa', cursor: 'pointer' }\n                                    : { backgroundColor: '#ffffff', cursor: 'pointer' };\n                                return (\n                                    <div {...getSuggestionItemProps(suggestion, { className, style, })}>\n                                        <span>{suggestion.description}</span>\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    </div>\n                )}\n            </PlacesAutocomplete>\n        );\n    }\n}\n\nexport default LocationSearchInput;\n","import React from 'react';\nimport DatePicker from 'react-datepicker';\nimport moment from 'moment';\n\nimport 'react-datepicker/dist/react-datepicker.css';\n\n\nexport default class DateInput extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            startDate: moment(),\n        };\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    handleChange = (date) => {\n        this.setState({\n            startDate: date\n        });\n        this.props.handleDate(date);\n    }\n\n    render() {\n        return <DatePicker\n            selected={this.state.startDate}\n            onChange={this.handleChange}\n            minDate={moment()}\n            className=\"border-shadow\"\n            showTimeSelect\n            timeFormat=\"HH:mm\"\n            timeIntervals={15}\n            dateFormat=\"DD/MM/YYYY      -      LT\"\n            timeCaption=\"Time\"\n        />;\n    }\n}","import axios from \"axios\";\n\nclass RouteService {\n  constructor() {\n    this.service = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}/route`,\n      withCredentials: true\n    });\n  }\n\n  create = (arrival, departure, date, space, price) => {\n    return this.service.post(\"/create\", { arrival, departure, date, space, price })\n      .then(res => res.data)\n      .catch(error => console.log(error));\n  };\n\n  search = (arrival, departure, date) => {\n    return this.service.post('/search', { arrival, departure, date })\n      .then(res => res.data)\n      .catch(error => console.log(error));\n  }\n\n  show = id => {\n    return this.service.get('/my-routes', { id })\n      .then(res => res.data)\n      .catch(error => console.log(error));\n  }\n\n  shipping = (description, owner, receiver, size, weight, route) => {\n    return this.service.post('/new-shipment', { description, owner, receiver, size, weight, route })\n      .then(res => res.data)\n      .catch(error => console.log(error));\n  }\n\n  find = user => {\n    return this.service.post('/find', { user })\n      .then(res => res.data)\n      .catch(error => console.log(error));\n  }\n\n  accept = id => {\n    return this.service.put('/accept', { id })\n      .then(res => res.data)\n      .catch(error => console.log(error));\n  }\n\n  reject = id => {\n    return this.service.put('/reject', { id })\n    .then(res => res.data)\n    .catch(error => console.log(error));\n  }\n}\n\nexport default RouteService;","import React from \"react\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\n\nclass RouteCard extends React.Component {\n\n    render() {\n        const route = this.props\n        const { arrival, departure, aviableSpace, driver, departureTime, price } = this.props.route;\n        const date = departureTime.split('').splice(0, 10).join('').split('-').sort(() => 1).join('-')\n        const time = departureTime.split('').splice(11, 5).join('')\n        return (\n            <Grid container align=\"center\" justify=\"center\">\n                <Paper>\n                    <Table>\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>Driver:</TableCell>\n                                <TableCell>From:</TableCell>\n                                <TableCell>To:</TableCell>\n                                <TableCell>Departure date:</TableCell>\n                                <TableCell>Departure time:</TableCell>\n                                <TableCell>Price:</TableCell>\n                                <TableCell>Aviable Space:</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            <TableRow>\n                                <TableCell>{driver.username}</TableCell>\n                                <TableCell>{departure.name}</TableCell>\n                                <TableCell>{arrival.name}</TableCell>\n                                <TableCell>{date}</TableCell>\n                                <TableCell>{time}</TableCell>\n                                <TableCell>{price}</TableCell>\n                                <TableCell>{aviableSpace}</TableCell>\n                                <TableCell><Button onClick={() => this.props.handleBook(route)} color=\"primary\" variant=\"contained\">Book shipment</Button></TableCell>\n                            </TableRow>\n                        </TableBody>\n                    </Table>\n                </Paper>\n            </Grid>\n        );\n    }\n}\n\nexport default RouteCard;\n","import React from \"react\";\nimport Select from \"react-select\";\n\nclass UserSelect extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            selectedUser: null\n        };\n    }\n\n    handleChange = selectedUser => {\n        this.setState({ selectedUser });\n        this.props.handleReceiverSelect(selectedUser)\n    };\n\n    render() {\n        const { selectedUser } = this.state;\n        return (\n            <Select\n                options={this.props.users}\n                value={selectedUser}\n                onChange={this.handleChange}\n                onInputChange={this.props.findUsers}\n                style={{width: \"6vw\"}}\n            />\n        );\n    }\n}\n\nexport default UserSelect;\n","import React from 'react';\nimport AuthService from '../auth/AuthService';\nimport UserSelect from '../search/UserSelect';\nimport RouteService from '../routes/RouteService';\nimport { Redirect } from 'react-router-dom';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\n\nclass NewShipment extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            usersArray: [],\n            description: '',\n            size: 0,\n            weight: 0,\n            receiver: {}\n        };\n        this.authService = new AuthService();\n        this.routeService = new RouteService();\n    };\n\n    findUsers = (inputValue) => {\n        this.authService.find(inputValue)\n            .then(users => {\n                if (inputValue.length === 0)\n                    return []\n                else\n                    return users.map(user => {\n                        Object.defineProperty(user, 'value', Object.getOwnPropertyDescriptor(user, '_id'));\n                        delete user['_id'];\n                        Object.defineProperty(user, 'label', Object.getOwnPropertyDescriptor(user, 'username'));\n                        delete user['username'];\n                        return user;\n                    });\n            })\n            .then(users => this.setState({ usersArray: users }))\n    };\n\n    handleChange = (event) => {\n        const { name, value } = event.target;\n        this.setState({ [name]: value });\n    };\n\n    handleReceiverSelect = (user) => {\n        this.setState({ receiver: user })\n    }\n\n    handleSubmit = event => {\n        event.preventDefault();\n        const { description, size, weight, receiver } = this.state;\n        const { selectedRoute, user } = this.props;\n\n        this.routeService.shipping(description, user, receiver, size, weight, selectedRoute)\n            .then(data => console.log(data))\n\n        this.setState({ redirect: true })\n\n    }\n\n    render() {\n        const { usersArray } = this.state;\n        if (this.state.redirect)\n            return <Redirect to=\"/my-packages\"></Redirect>\n        else\n            return (\n                <Grid container align=\"center\" justify=\"center\" direction=\"column\" className=\"search-page\">\n                    <Paper style={{ backgroundColor: \"#ffffffbf\" }}>\n                        <Grid container align=\"center\" justify=\"center\" direction=\"column\">\n                            <FormControl style={{ marginTop: \"2vh\" }}>\n                                <InputLabel htmlFor=\"description\">Description</InputLabel>\n                                <Input type=\"text\" name=\"description\" size=\"100\" onChange={e => this.handleChange(e)}></Input>\n                            </FormControl>\n                            <FormControl style={{ marginTop: \"2vh\" }}>\n                                <InputLabel htmlFor=\"size\">Size</InputLabel>\n                                <Input type=\"number\" name=\"size\" onChange={e => this.handleChange(e)}></Input>\n                            </FormControl>\n                            <FormControl style={{ marginTop: \"2vh\" }}>\n                                <InputLabel htmlFor=\"weight\">Weight</InputLabel>\n                                <Input type=\"number\" name=\"weight\" onChange={e => this.handleChange(e)}></Input>\n                            </FormControl>\n                            <FormControl style={{ marginTop: \"2vh\", width: \"28vw\" }}>\n                                <InputLabel htmlFor=\"receiver\">Receiver</InputLabel>\n                                <UserSelect users={usersArray} findUsers={this.findUsers} name=\"receviver\" handleReceiverSelect={this.handleReceiverSelect} />\n                            </FormControl>\n                            <Grid>\n                                <Button color=\"primary\" variant=\"contained\" onClick={this.handleSubmit}>Book shipment</Button>\n                            </Grid>\n                        </Grid>\n                    </Paper>\n                </Grid>\n            )\n    }\n}\n\nexport default NewShipment;","import React from 'react';\nimport RouteCard from './RouteCard';\nimport NewShipment from './NewShipment';\n\nclass SearchedRoutes extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: props.data,\n            redirect: false,\n            selectedRoute: {}\n        }\n    }\n\n    handleBook = (route) => {\n        this.setState({ selectedRoute: route.route })\n        this.setState({ redirect: true });\n    };\n\n    render() {\n        const { data } = this.state\n        console.log(data)\n        if (this.state.redirect)\n            return (<NewShipment selectedRoute={this.state.selectedRoute} user={this.props.user}></NewShipment>)\n        else\n            return (\n                <div className=\"d-flex flex-column align-items-center justify-content-center search-page\">\n                    <h3 className=\"mt-3 location-info\">Routes</h3>\n                    {data.map(e => <RouteCard route={e} key={e.driver._id} user={this.props.user} handleBook={this.handleBook}></RouteCard>)}\n                </div>\n            )\n    }\n}\n\nexport default SearchedRoutes;","import React, { Component } from 'react';\nimport LocationSearchInput from '../search/LocationSearchInput'\nimport DateInput from '../search/DateInput';\nimport RouteService from '../routes/RouteService';\nimport SearchedRoutes from '../routes/SearchedRoutes';\nimport Button from '@material-ui/core/Button';\nimport { Redirect } from 'react-router-dom';\n\nclass HomePage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            departure: {},\n            arrival: {},\n            date: {},\n            render: false,\n            data: {},\n            redirect: false\n        }\n        this.service = new RouteService()\n    }\n\n    handleSelect = (latLng, departure, address) => {\n        departure ? this.setState({ departure: { ...latLng, address } }) : this.setState({ arrival: { ...latLng, address } })\n    };\n\n    resetClick = (departure) => {\n        departure ? this.setState({ departure: {} }) : this.setState({ arrival: {} })\n    };\n\n    handleDate = (date) => {\n        this.setState({ date: date._d })\n    };\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        if (this.props.user) {\n            const { departure, arrival, date } = this.state;\n            this.service.search(arrival, departure, date)\n                .then(data => this.setState({ data }))\n                .then(() => this.setState({ render: true }))\n                .catch(e => console.log(e));\n        } else {\n            this.setState({ redirect: true })\n        }\n    };\n\n    render() {\n        if (this.state.redirect) return <Redirect to=\"/login\" />\n        if (this.state.render)\n            return (<SearchedRoutes data={this.state.data} user={this.props.user}></SearchedRoutes>)\n        else\n            return (\n                <div className=\"d-flex justify-content-center aling-items-center search-container search-page\">\n                    <div className=\"my-4 d-flex flex-row justify-content-between align-items-center row container-fluid col-10\">\n                        <div className=\"col-4 d-flex flex-column justify-content-between align-items-center\">\n                            <span className=\"my-2 location-info\">Departure</span>\n                            <LocationSearchInput handleSelect={this.handleSelect} departure={true} resetClick={this.resetClick} place={this.state.departure}></LocationSearchInput>\n                        </div>\n                        <div className=\"col-4 d-flex flex-column justify-content-between align-items-center\">\n                            <span className=\"my-2 location-info\">Arrival</span>\n                            <LocationSearchInput handleSelect={this.handleSelect} departure={false} resetClick={this.resetClick} place={this.state.arrival}></LocationSearchInput>\n                        </div>\n                        <div className=\"col-3 d-flex flex-column justify-content-between align-items-center\">\n                            <span className=\"my-2 location-info\">Date</span>\n                            <DateInput handleDate={this.handleDate}></DateInput>\n                        </div>\n                        <div className=\"col-1 d-flex flex-column justify-content-between align-items-center mt-5\">\n                            <Button color=\"primary\" variant=\"contained\" onClick={this.handleSubmit}>Search</Button>\n                        </div>\n                    </div>\n                </div>\n            );\n    };\n};\n\nexport default HomePage;","import React from \"react\";\nimport _ from \"lodash\";\nimport localize from \"../maps/Localize\";\n\nexport default class MapContainer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            map: {},\n            directionsService: {},\n            directionsDisplay: {},\n            center: {},\n            // estimatedTime: ''\n        };\n    }\n\n    componentDidMount = () => {\n        localize()\n            .then(center => {\n                this.setState({ center });\n            })\n            .then(() => {\n                // console.log(this.state.center)\n                const map = new window.google.maps.Map(document.getElementById(\"map\"), {\n                    center: this.state.center,\n                    zoom: 8\n                });\n                return map;\n            })\n            .then(map => {\n                this.setState({ map });\n                this.setState({\n                    directionsService: new window.google.maps.DirectionsService()\n                });\n                this.setState({\n                    directionsDisplay: new window.google.maps.DirectionsRenderer({ map })\n                });\n            });\n    };\n\n    onRoute() {\n        this.state.directionsDisplay.setMap(this.state.map);\n        const request = {\n            origin: { lat: this.props.departure.lat, lng: this.props.departure.lng },\n            destination: { lat: this.props.arrival.lat, lng: this.props.arrival.lng },\n            travelMode: \"DRIVING\"\n        };\n        this.state.directionsService.route(request, (res, status) => {\n            // this.setState({ estimatedTime: res.routes[0].legs[0].duration.text })\n            if (status === \"OK\") this.state.directionsDisplay.setDirections(res);\n        });\n    }\n\n    onMarker = () => {\n        const { lat, lng } = this.props.departure;\n        new window.google.maps.Marker({\n            position: { lat, lng },\n            map: this.state.map,\n            title: this.props.departure.addres\n        });\n        this.state.map.setCenter({ lat, lng });\n        this.state.directionsDisplay.setMap(null);\n    };\n\n    componentDidUpdate = () => {\n        if (!_.isEqual(this.state.map, {}) && !_.isEqual(this.state.directionsDisplay, {}) && !_.isEqual(this.state.directionsService, {})){\n            _.isEqual(this.props.arrival, {}) ? this.onMarker() : this.onRoute();\n        }\n    };\n\n    render() {\n        return <div style={{ width: 500, height: 500 }} id=\"map\" />;\n    }\n}\n","import React from 'react';\nimport LocationSearchInput from '../search/LocationSearchInput';\nimport MapContainer from './MapContainer';\nimport DateInput from '../search/DateInput';\nimport RouteService from './RouteService';\nimport { Redirect } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Card from '@material-ui/core/Card';\n\n\n\nexport class CreateRoute extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            arrival: {},\n            departure: {},\n            date: {},\n            carrierForm: false,\n            space: 0,\n            redirect: false,\n            price: 0\n        };\n        this.service = new RouteService();\n    };\n\n    handleSelect = (latLng, departure, address) => {\n        departure ? this.setState({ departure: { ...latLng, address } }) : this.setState({ arrival: { ...latLng, address } });\n    };\n\n    resetClick = (departure) => {\n        departure ? this.setState({ departure: {} }) : this.setState({ arrival: {} })\n    };\n\n    forwardClick = () => {\n        this.setState({ carrierForm: true })\n    };\n\n    backwardClick = () => {\n        this.setState({ carrierForm: false })\n    };\n\n    handleDate = (date) => {\n        this.setState({ date: date._d })\n    };\n\n    handleSpace(space) {\n        this.setState({ space })\n    };\n\n    handlePrice(price) {\n        this.setState({ price })\n    };\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        const { arrival, departure, date, space, price } = this.state;\n        this.service.create(arrival, departure, date, space, price)\n            .then(e => this.setState({ redirect: true }))\n    };\n\n    render() {\n        if (this.state.redirect)\n            return <Redirect to=\"/\"></Redirect>\n        if (this.state.carrierForm) {\n            return (\n                <div className=\"create-route d-flex justify-content-center align-items-center\">\n                    <Grid style={{ marginLeft: \"18vw\", marginRight: \"18vw\", width: \"50vw\", marginBottom: \"8vh\", backgroundColor: \"#ffffffbf\" }}>\n                        <Card style={{ backgroundColor: \"transparent\" }}>\n                            <Grid container spacing={16} direction=\"row\" alignItems=\"stretch\" justify=\"space-around\" style={{ marginTop: \"2vh\", marginBottom: \"2vh\", backgroundColor: \"transparent\" }}>\n                                <Grid item lg={5} container alignItems=\"center\" justify=\"space-around\" direction=\"column\" style={{ backgroundColor: \"transparent\" }}>\n                                    <Grid style={{ width: \"80%\" }}>\n                                        <InputLabel className=\"my-2 create-label\" style={{ width: \"100%\" }}>Departure date &amp; time</InputLabel>\n                                        <DateInput handleDate={this.handleDate} ></DateInput>\n                                    </Grid>\n                                    <Grid style={{ width: \"80%\" }}>\n                                        <InputLabel className=\"my-2 create-label\" style={{ width: \"100%\" }}>Price/m</InputLabel>\n                                        <input className=\"search-input\" onChange={e => this.handlePrice(e.currentTarget.value)} placeholder=\"Set a price\" ></input>\n                                    </Grid>\n                                    <Grid style={{ width: \"80%\" }}>\n                                        <InputLabel className=\"my-2 create-label\">Available space</InputLabel>\n                                        <Grid className=\"d-flex flex-row justify-content-center align-items-center space-wrapper\" style={{ width: \"100%\" }}>\n                                            <input type=\"text\" placeholder=\"Available space in meters\" id=\"space\" onChange={e => this.handleSpace(e.currentTarget.value)} />\n                                            <input type=\"text\" id=\"spacetwo\" value=\"m\" disabled />\n                                        </Grid>\n                                    </Grid>\n                                    <Grid container alignItems=\"center\" justify=\"space-around\" >\n                                        <Button variant=\"contained\" onClick={this.backwardClick}>Back</Button>\n                                        <Button variant=\"contained\" color=\"primary\" onClick={this.handleSubmit}>Submit</Button>\n                                    </Grid>\n                                </Grid>\n                                <Grid item lg={7}>\n                                    <MapContainer {...this.state}></MapContainer>\n                                </Grid>\n                            </Grid>\n                        </Card>\n                    </Grid>\n                </div>\n            )\n        } else {\n            return (\n                <div className=\"create-route d-flex justify-content-center align-items-center\">\n                    <Grid style={{ marginLeft: \"18vw\", marginRight: \"18vw\", width: \"50vw\", marginBottom: \"8vh\", backgroundColor: \"#ffffffbf\" }}>\n                        <Card style={{ backgroundColor: \"transparent\" }}>\n                            <Grid container spacing={16} direction=\"row\" alignItems=\"stretch\" justify=\"space-around\" style={{ marginTop: \"2vh\", marginBottom: \"2vh\", backgroundColor: \"transparent\" }}>\n                                <Grid item lg={5} container alignItems=\"center\" justify=\"space-around\" direction=\"column\" style={{ backgroundColor: \"transparent\" }}>\n                                    <Grid style={{ zIndex: 3, width: \"80%\" }}>\n                                        <InputLabel style={{ marginBottom: \"2vh\" }} className=\"my-2 create-label\">Departure</InputLabel>\n                                        <LocationSearchInput style={{ marginBottom: \"2vh\" }} handleSelect={this.handleSelect} departure={true} resetClick={this.resetClick} place={this.state.departure}></LocationSearchInput>\n                                    </Grid>\n                                    <Grid style={{ zIndex: 2, width: \"80%\" }}>\n                                        <InputLabel style={{ marginBottom: \"2vh\" }} className=\"my-2 create-label\">Arrival</InputLabel>\n                                        <LocationSearchInput style={{ marginBottom: \"2vh\" }} handleSelect={this.handleSelect} departure={false} resetClick={this.resetClick} place={this.state.arrival}></LocationSearchInput>\n                                    </Grid>\n                                    <Grid container justify=\"flex-end\" style={{ paddingRight: \"3vw\" }}>\n                                        <Button style={{ marginBottom: \"2vh\" }} variant=\"contained\" onClick={this.forwardClick}>Continue</Button>\n                                    </Grid>\n                                </Grid>\n                                <Grid item lg={7}>\n                                    <MapContainer {...this.state}></MapContainer>\n                                </Grid>\n                            </Grid>\n                        </Card>\n                    </Grid>\n                </div>\n            );\n        }\n    };\n};","import React from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport DoneIcon from '@material-ui/icons/Done';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport Shipping from '@material-ui/icons/LocalShipping';\nimport Button from '@material-ui/core/Button';\n\n\n\nclass StatusCard extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            status: props.status\n        };\n    };\n\n    componentWillMount() {\n        const { status } = this.props;\n        this.setState({ status });\n    }\n\n\n\n    render() {\n        const { status } = this.state;\n        const { id, keyVariable } = this.props;\n\n        if (status === 'Pending') {\n            if (keyVariable === 'asShipper')\n                return (\n                    <div>\n                        <Button color=\"primary\" variant=\"contained\" onClick={e => this.props.handleAccept(e.currentTarget.value)} value={id} >Accept</Button>\n                        <Button color=\"secondary\" variant=\"contained\" onClick={e => this.props.handleReject(e.currentTarget.value)} value={id} >Reject</Button>\n                    </div>\n                )\n            else\n                return <Chip label=\"Pending\" />\n        }\n        else if (status === 'Accepted')\n            return (\n                <Chip label=\"Accepted\" color=\"primary\" icon={<DoneIcon />} />\n            )\n        else if (status === 'Delivered')\n            return (\n                <Chip label=\"Delivered\" color=\"primary\" icon={<Shipping />} />\n            )\n        else\n            return (\n                <Chip label=\"Rejected\" color=\"secondary\" icon={<ClearIcon />} />\n            )\n\n    }\n}\n\nexport default StatusCard;","import React from 'react';\nimport RouteService from '../routes/RouteService';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport StatusCard from './StatusCard';\n\nclass PackageCard extends React.Component {\n    constructor() {\n        super();\n        this.service = new RouteService();\n        this.state = {\n            packages: null\n        };\n    };\n\n    handleAccept = (value) => {\n        this.service.accept(value)\n            .then(() => this.props.findPackages())\n    }\n\n    handleReject = (value) =>  {\n        this.service.reject(value)\n            .then(() => this.props.findPackages())\n    }\n\n    componentWillReceiveProps(nextProps) {\n        this.setState({ ...this.state, packages: nextProps[\"packages\"] })\n    }\n\n    render() {\n        const { packages } = this.props;\n        return (\n            <Grid style={{ marginBottom: \"4vh\" }} >\n                {Object.keys(packages).map(key => {\n                    return packages[key].length > 0 ? <div key={key}>\n                        <Grid style={{ marginTop: \"6vh\" }}>\n                            <h3>{key === 'asOwner' ? 'Sent Packages' : key === 'asShipper' ? 'Shipments' : 'Received Packages'}</h3>\n                            <Paper>\n                                <Table>\n                                    <TableHead>\n                                        <TableRow>\n                                            <TableCell data-field=\"id\">Departure</TableCell>\n                                            <TableCell data-field=\"name\">Destination</TableCell>\n                                            <TableCell data-field=\"price\">Item</TableCell>\n                                            <TableCell data-field=\"date\">Date</TableCell>\n                                            <TableCell data-field=\"time\">Time of departure</TableCell>\n                                            <TableCell data-field=\"owner\">Owner</TableCell>\n                                            <TableCell data-field=\"receiver\">Receiver</TableCell>\n                                            <TableCell data-field=\"shipper\">Shipper</TableCell>\n                                            <TableCell data-field=\"shipper\" style={{ textAlign: \"center\" }}>Status</TableCell>\n                                        </TableRow>\n                                    </TableHead>\n                                    {packages[key].map(shipment => {\n                                        return <TableBody key={shipment._id}>\n                                            <TableRow>\n                                                <TableCell>{shipment.route.departure.name}</TableCell>\n                                                <TableCell>{shipment.route.arrival.name}</TableCell>\n                                                <TableCell>{shipment.description}</TableCell>\n                                                <TableCell>{shipment.route.departureTime.split('').splice(0, 10).join('').split('-').sort(() => 1).join('-')}</TableCell>\n                                                <TableCell>{shipment.route.departureTime.split('').splice(11, 5).join('')}</TableCell>\n                                                <TableCell>{shipment.owner.username}</TableCell>\n                                                <TableCell>{shipment.receiver.username}</TableCell>\n                                                <TableCell>{shipment.carrier.username}</TableCell>\n                                                <TableCell style={{ textAlign: \"center\" }}><StatusCard status={shipment.status} handleAccept={this.handleAccept} handleReject={this.handleReject} id={shipment._id} keyVariable={key}/></TableCell>\n                                            </TableRow>\n                                        </TableBody>\n                                    })}\n                                </Table>\n                            </Paper>\n                        </Grid>\n                    </div> : <div key={key}></div>;\n                })}\n            </Grid>\n        )\n    }\n}\n\nexport default PackageCard;","import React from 'react';\nimport RouteService from '../routes/RouteService';\nimport PackageCard from './PackageCard';\nimport Grid from '@material-ui/core/Grid';\n// import Paper from '@material-ui/core/Paper';\n\n\nclass MyPackages extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            user: props.user,\n            packages: {\n                asOwner: [],\n                asReceiver: [],\n                asShipper: []\n            },\n            refresh: false\n        }\n        this.service = new RouteService();\n    }\n\n    findPackages = () => {\n        const { user } = this.state;\n        const refresh = !this.state.refresh;\n        this.service.find(user)\n            .then(packages => this.setState({ packages, refresh }))\n    }\n\n    componentDidMount() {\n        this.findPackages()\n    }\n\n    render() {\n        const { packages, refresh } = this.state;\n        if (packages['asOwner'].length > 0 || packages['asShipper'].length > 0 || packages['asReceiver'].length > 0)\n            return (\n                <div className=\"my-packages\">\n                    <Grid\n                        container\n                        alignItems=\"center\"\n                        justify=\"center\"\n                    >\n                        <PackageCard packages={packages} findPackages={this.findPackages} refresh={refresh}></PackageCard>\n                    </Grid>\n                </div>\n            )\n        else\n            return (\n                <div className=\"my-packages\">\n\n                    <Grid container justify=\"center\" className=\"py-5\">\n                        <h5>You have no shipments so far.<br />Search for a route to start enjoying Battuta!</h5>\n                    </Grid>\n                </div>\n            )\n    }\n}\n\nexport default MyPackages;","import React from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\n\n\n\nclass MyProfile extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tuser: props.user\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { user } = this.state\n\t\tlet roles = '';\n\t\tuser.role.forEach((e, i) => {\n\t\t\troles += i > 0 ? ' & ' : '';\n\t\t\troles += (e.charAt(0).toUpperCase() + e.slice(1));\n\t\t});\n\t\tlet vehicle;\n\t\tif (user.vehicle) {\n\t\t\tvehicle = <TableRow>\n\t\t\t\t<TableCell><span className=\"profile-data\">Vehicle</span></TableCell>\n\t\t\t\t<TableCell><span className=\"profile-data\">{user.vehicle.brand} {user.vehicle.model} - {user.vehicle.color} - {user.vehicle.registrationNumber}</span></TableCell>\n\t\t\t</TableRow>\n\t\t}\n\n\n\t\treturn (\n\t\t\t<div className=\"my-profile d-flex justify-content-center align-items-center flex-column\">\n\t\t\t\t<h4 className=\"center-align\">Profile</h4>\n\t\t\t\t<Grid style={{ margin: \"6vh\" }} container justify=\"center\">\n\t\t\t\t\t<Card style={{ backgroundColor: \"#ffffffbf\" }}>\n\t\t\t\t\t\t<Grid style={{ backgroundColor: \"transparent\" }}>\n\t\t\t\t\t\t\t<Table className=\"centered\">\n\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t<TableCell><span className=\"profile-data\">Name</span></TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell><span className=\"profile-data\">{user.username}</span></TableCell>\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t<TableCell><span className=\"profile-data\">Email</span></TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell><span className=\"profile-data\">{user.email}</span></TableCell>\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t<TableCell><span className=\"profile-data\">Roles</span></TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell><span className=\"profile-data\">{roles}</span></TableCell>\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t{vehicle}\n\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n\n}\n\nexport default MyProfile;","import React, { Component } from 'react';\nimport './App.scss';\nimport { Route, Redirect } from 'react-router-dom';\nimport Navbar from './components/navbar/Navbar';\nimport Signup from './components/auth/Signup';\nimport Login from './components/auth/Login';\nimport AuthService from './components/auth/AuthService';\nimport HomePage from './components/contents/HomePage';\n// import Footer from './components/footer/Footer';\nimport { CreateRoute } from './components/routes/CreateRoute';\nimport MyPackages from './components/profile/MyPackages';\nimport MyProfile from './components/profile/MyProfile';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = { loggedInUser: null };\n    this.service = new AuthService();\n  }\n\n  getTheUser = (userObj) => {\n    this.setState({\n      loggedInUser: userObj\n    })\n  }\n\n  logout = () => {\n    this.service.logout()\n      .then(() => {\n        this.setState({ loggedInUser: null });\n      })\n  }\n\n  fetchUser() {\n    if (this.state.loggedInUser === null) {\n      this.service.loggedin()\n        .then(response => {\n          this.setState({\n            loggedInUser: response\n          })\n        })\n        .catch(err => {\n          this.setState({\n            loggedInUser: false\n          })\n        })\n    }\n  }\n\n  render() {\n    this.fetchUser()\n\n    if (this.state.loggedInUser) {\n      return (\n        <div className=\"wrapper\">\n          <header >\n            <Navbar userInSession={this.state.loggedInUser} logout={this.logout} />\n          </header>\n          <Route exact path='/' render={() => <HomePage user={this.state.loggedInUser}></HomePage>}></Route>\n          <Route exact path='/login' render={() => <Redirect to=\"/\" getUser={this.getTheUser} />} />\n          <Route exact path='/signup' render={() => <Redirect to=\"/\" getUser={this.getTheUser} />} />\n          <Route exact path='/maps' render={() => <CreateRoute></CreateRoute>} />\n          <Route exact path=\"/my-packages\" render={() => <MyPackages user={this.state.loggedInUser}></MyPackages>} />\n          <Route exact path=\"/profile\" render={() => <MyProfile user={this.state.loggedInUser}></MyProfile>} />\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"wrapper\">\n          <header >\n            <Navbar userInSession={this.state.loggedInUser} logout={this.logout} />\n          </header>\n          <Route exact path='/' render={() => <HomePage></HomePage>}></Route>\n          <Route exact path='/signup' render={() => <Signup getUser={this.getTheUser} />} />\n          <Route exact path='/login' render={() => <Login getUser={this.getTheUser} />} />\n          <Route exact path='/maps' render={() => <CreateRoute></CreateRoute>} />\n        </div>\n      );\n    }\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n\tpalette: {\n\t\tprimary: { main: \"#3f51b5\" },\n\t\tsecondary: { main: \"#ff1744\" },\n\t}\n});\n\nReactDOM.render(\n\t<MuiThemeProvider theme={theme}>\n\t\t<BrowserRouter>\n\t\t\t<App />\n\t\t</BrowserRouter>\n\t</MuiThemeProvider>,\n\tdocument.getElementById(\"root\")\n);\nserviceWorker.unregister();\n"],"sourceRoot":""}